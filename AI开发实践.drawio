<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36" version="29.6.0">
  <diagram name="第 1 页" id="bLZRu4Ustq9-f_sOw4ID">
    <mxGraphModel dx="998" dy="619" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="HZl_wdILNyo2TNmm2pwv-1" parent="1" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;GenDev - 生成式开发的最佳实践方法论&lt;/h1&gt;&lt;div&gt;Generative Development&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;AI辅助开发时代。&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;核心原则：&lt;/div&gt;&lt;div&gt;1. 自动化优先&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 减少手动重复工作&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 使用工具生成样板代码&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 自动化测试和部署&lt;br&gt;&lt;/div&gt;&lt;div&gt;2. 代码质量&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* AI 生成的代码需要人工审查&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 遵循项目编码规范&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 保持代码可维护性&lt;br&gt;&lt;/div&gt;&lt;div&gt;3. 安全性&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 审查生成的代码是否有安全漏洞&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 不盲目信任 AI 生成的代码&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 敏感信息不要暴露给AI&lt;br&gt;&lt;/div&gt;&lt;div&gt;4. 测试驱动&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 先定义测试用例&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 使用AI生成实现代码&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 确保测试覆盖率&lt;br&gt;&lt;/div&gt;&lt;div&gt;5. 文档化&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 记录生成过程和决策&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 维护清晰的 API 文档&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 提供使用示例&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="430" width="520" x="80" y="40" as="geometry" />
        </mxCell>
        <mxCell id="HZl_wdILNyo2TNmm2pwv-2" parent="1" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;GenDev最佳实践：&lt;/h1&gt;&lt;p&gt;1. 验证与规划-给AI验证能力（最重要）&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 适合：重构 测试 文档 明确需求的功能&lt;br&gt;2. 使用最好的模型&lt;br&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;*单价越贵的模型 = 一次做对概率越高 = 总 token 消费最低&lt;br&gt;3. 先规划后执行&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 从Plan Mode 开始&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 计划满意后再 auto-accept&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 降低返工成本&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* claude监测到复杂任务时会主动建议进入&lt;br&gt;4. 多任务并行&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;* 并行运行多个终端claude，用系统通知追踪运行情况&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 同时在 claude.ai 运行多个网页端&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 长任务用 background agent&lt;br&gt;&lt;br&gt;5. 团队知识沉淀&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* CLAUDE.md 团队共享，check into git&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 每次claude 犯错都记录&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* code review时 @claude 更新 claude.md&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 用github action 自动化&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;注意：CLAUDE.md 不能写太长 100行内（每次对话都会loading），写规则就好，内容太长会减少其他上下文的信息，项目信息和背景放到 reademe或reference中，跨项目的信息就往claude.md里写&lt;br&gt;6. Agent Skills &amp;amp; Subagents&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 利用 Agent Skills 自动化日常操作&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 减少重复输入，claude 也能调用&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 自动化场景流程&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* code-simplifier：简化代码&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* verify-app：端到端测试&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;注意：agent teams 或取代 subagents&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;7. Hooks&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 用户提交-》 claude 选择工具-〉pretooluse-》工具执行-〉postToolUse-》claude响应&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* posttooluse hook 自动格式化代码&lt;br&gt;8. 权限&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* /permissions 预授权安全命令（而非--dangerously-skip-permissions）&lt;br&gt;9. MCP集成&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* Slack BigQuery - sentry github jira&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;* 配置 check info .mcp.json 团队共享&lt;br&gt;&lt;br&gt;&lt;br&gt;业界实践经验&lt;/p&gt;&lt;p&gt;&lt;b&gt;Progressive Disclosure 模式&lt;/b&gt;&lt;br&gt;1. claude.md 控制在100行内，详细信息用 @引用按需加载&lt;br&gt;project/&lt;br&gt;CLAUDE.md&lt;br&gt;agent_docs/&lt;br&gt;requirements.md # @agent_docs/requirements.md&lt;br&gt;&lt;br&gt;&lt;b&gt;避免重复造轮子&lt;br&gt;&lt;/b&gt;在CLAUDE.md 中明确禁止指令&lt;br&gt;HTTP：必须使用 @intermal/http-client 禁止aixos等&lt;br&gt;&lt;br&gt;&lt;b&gt;编码问题解决方案&lt;br&gt;&lt;/b&gt;问题1 AI生成代码无法一次性做对&lt;br&gt;解决：planning-with-files插件（3文件持久化模式）&lt;br&gt;问题2 AI生成代码过于冗余&lt;br&gt;解决：CLAUDE.md 添加强制规则&lt;br&gt;问题3 java项目使用不存在的包&lt;br&gt;解决：在 CLAOUDE.md中锁定依赖白名单&lt;br&gt;&lt;br&gt;&lt;b&gt;SKILL&lt;/b&gt;&lt;br&gt;类似于说明书，是提示词+脚本，分层索引，层层递进&lt;br&gt;&lt;br&gt;&lt;b&gt;监控系统集成（Grafana）&lt;br&gt;&lt;/b&gt;大量数据点消耗token问题&lt;/p&gt;&lt;p&gt;最佳实践：传输聚合指标 而非原始数据点&lt;br&gt;&lt;br&gt;对接方式：Grafana MCP Server ，调用一个指令返回指标结果&lt;br&gt;&lt;br&gt;&lt;b&gt;CC工具使用问题&lt;br&gt;&lt;/b&gt;1. RAG/MCP 信息越权问题&lt;br&gt;核心方案：OAuth2.1 + 细粒度权限&lt;br&gt;MCP Server集成用户身份 + zero standing permissions&lt;br&gt;2. Lark文档接入&lt;br&gt;3. Claude与IDE集成&lt;br&gt;4. AI操作业务系统安全（Guardrails：sandbox隔离+human-in-the-loop + action白名单）&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;" vertex="1">
          <mxGeometry height="1280" width="853.33" x="80" y="500" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
